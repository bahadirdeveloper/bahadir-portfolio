"use client"

import { useEffect, useRef, useState, useLayoutEffect } from "react"
import { gsap } from "gsap"
import { ScrollTrigger } from "gsap/ScrollTrigger"
import { motion, useScroll, useTransform } from "framer-motion"
import {
  Github,
  Linkedin,
  Mail,
  ExternalLink,
  Code,
  Palette,
  Zap,
  Globe,
  Star,
  Award,
  Users,
  Calendar,
  ArrowRight,
  ArrowLeft,
  ChevronDown,
  Menu,
  X,
} from "lucide-react"
import Link from "next/link"
import { AnimatePresence } from "framer-motion"
import SplashCursor from "../components/SplashCursor";

// Register GSAP plugins
if (typeof window !== "undefined") {
  gsap.registerPlugin(ScrollTrigger)
}

export default function Portfolio() {
  const containerRef = useRef<HTMLDivElement>(null)
  const [currentSection, setCurrentSection] = useState(0)
  const [isLoading, setIsLoading] = useState(true)
  const [activeTab, setActiveTab] = useState(0)
  const [currentQuote, setCurrentQuote] = useState(0)
  const [currentMessage, setCurrentMessage] = useState(0)
  const [isHovered, setIsHovered] = useState(false)
  const [mousePosition, setMousePosition] = useState({ x: 0, y: 0 })
  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false)

  const { scrollYProgress } = useScroll()
  const y = useTransform(scrollYProgress, [0, 1], ["0%", "50%"])

  // Portfolio Data - TÃ¼rkÃ§e iÃ§erik
  const portfolioData = {
    header: {
      logo: "/profile.png",
      title: "BahadÄ±r'Ä±n Portfolyosu",
      menu: ["HakkÄ±mda", "Yetenekler", "Projeler", "Referanslar", "Ä°letiÅŸim"]
    },
    hero: {
      name: "BahadÄ±r Gemalmaz",
      title: "Web TasarÄ±mcÄ±sÄ± & Otomasyon UzmanÄ±",
      leftMessages: [
        "Kahvemi bitirmeden kod yazmam",
        "Pixel-perfect mi? BaÅŸka tÃ¼rlÃ¼sÃ¼ var mÄ±ydÄ±?",
        "Bir web sitesi 3 saniyede aÃ§Ä±lmazsa, o site benim deÄŸildir",
        "TasarÄ±mda sadelik bir sanattÄ±r",
        "DÃ¼ÄŸmeye basÄ±nca Ã§alÄ±ÅŸmÄ±yorsa... neden orada?",
        "Gece 3'te deploy mu? Neden olmasÄ±n",
        "Kod yazmak meditasyondur",
        "Her sorun bir Ã§Ã¶zÃ¼mle gelir",
        "Figma aÃ§madan gÃ¼n baÅŸlamaz",
        "React gibi sevilen bir ÅŸey varsa, o da kahve",
        "Sade ama etkileyici... tÄ±pkÄ± sitelerim gibi",
        "OtobÃ¼ste bile tasarÄ±m dÃ¼ÅŸÃ¼nen adam",
        "AÃ§Ä±klamasÄ±z commit yapmam",
        "YazÄ±lÄ±mda detay, hayatta zarafettir",
        "Ä°yi bir arayÃ¼z, kÃ¶tÃ¼ bir fikri bile kurtarÄ±r",
        "GÃ¶rselliÄŸi seviyorum ama hÄ±zdan taviz vermem"
      ],
      motivationalQuotes: [
        "Her fikir, kodla can bulur",
        "BugÃ¼nÃ¼n Ã§abasÄ±, yarÄ±nÄ±n referansÄ±",
        "Sadelik, ustalÄ±ÄŸÄ±n gÃ¶stergesidir",
        "Hayal et, tasarla, uygula",
        "Bir satÄ±r kod, bin kelimeye bedeldir",
        "DÃ¼ÅŸÃ¼nen geliÅŸtirici, Ã¼reten sanatÃ§Ä±dÄ±r",
        "Disiplin, yetenekten daha etkilidir",
        "TasarÄ±m; ne eklediÄŸin deÄŸil, neyi Ã§Ä±kardÄ±ÄŸÄ±ndÄ±r",
        "Zaman geÃ§er ama iyi kod kalÄ±r",
        "Bir gÃ¼lÃ¼mseme iÃ§in tasarla, hÄ±z iÃ§in kodla"
      ]
    },
    about: {
      photo: "/profile.png",
      description: [
        "Merhaba, ben BahadÄ±r. Web tasarÄ±mÄ± ve otomasyon alanlarÄ±nda uzmanlaÅŸmÄ±ÅŸ, sade ve iÅŸlevsel Ã§Ã¶zÃ¼mler geliÅŸtiren bir geliÅŸtiriciyim. MÃ¼ÅŸterilerime hÄ±zlÄ±, gÃ¼venilir ve ihtiyaÃ§lara Ã¶zel dijital yapÄ±lar sunarken; her projeye tutkuyla yaklaÅŸÄ±rÄ±m.",
        "AynÄ± zamanda Silifke Teknoloji KulÃ¼bÃ¼'nÃ¼n kurucusuyum. Burada genÃ§lerle birlikte \"vibe coding\" kÃ¼ltÃ¼rÃ¼yle projeler geliÅŸtiriyor, yereldeki sorunlarÄ± teknolojiyle Ã§Ã¶zÃ¼me dÃ¶nÃ¼ÅŸtÃ¼rÃ¼yoruz. AmacÄ±mÄ±z; hem motivasyon hem gelir saÄŸlayan, aynÄ± zamanda milyon dolarlÄ±k potansiyele sahip fikirleri hayata geÃ§irmek.",
        "Benim iÃ§in teknoloji yalnÄ±zca bir iÅŸ deÄŸil; birlikte Ã¼retmenin, Ã¶ÄŸrenmenin ve bÃ¼yÃ¼menin yolu. DoÄŸru ekiple bir araya geldiÄŸimizde, deniz kenarÄ±nda kahvemizi yudumlarken bile dÃ¼nyayÄ± deÄŸiÅŸtirecek fikirler geliÅŸtirebileceÄŸimize inanÄ±yorum."
      ],
      socials: {
        github: "",
        linkedin: "",
        email: "",
        cv: "/cv.pdf"
      },
      references: [
        "https://www.simayhareketi.org",
        "https://www.effemimarlik.com.tr",
        "https://www.avaxsavunma.com.tr",
        "https://www.simayhareketi.com"
      ]
    },
    experience: {
      stats: [
        {"icon": "ðŸ“", "count": 7, "label": "Tamamlanan Proje"},
        {"icon": "ðŸ‘¥", "count": 7, "label": "Mutlu MÃ¼ÅŸteri"},
        {"icon": "â³", "count": 2, "label": "YÄ±llÄ±k Deneyim"},
        {"icon": "ðŸš€", "count": 3, "label": "Aktif Proje"}
      ],
      tabs: ["Web TasarÄ±mÄ±", "Otomasyon Sistemleri", "DanÄ±ÅŸmanlÄ±k"]
    },
    skills: {
      technical: {
        "Frontend GeliÅŸtirme": ["HTML", "CSS", "JavaScript", "React"],
        "TasarÄ±m & UX": ["Figma", "Photoshop", "Canva"],
        "AltyapÄ± & Otomasyon": ["Node.js", "Firebase", "Supabase"],
        "Animasyon & EtkileÅŸim": ["Framer Motion", "GSAP"]
      },
      softSkills: [
      { name: "Problem Ã‡Ã¶zme", description: "Sorunlardan FÄ±rsat Yaratma", icon: "ðŸ’¡" },
      { name: "TakÄ±m Ã‡alÄ±ÅŸmasÄ±", description: "Kolektif Ãœretim", icon: "ðŸ¤" },
      { name: "Zaman YÃ¶netimi", description: "HÄ±zlÄ± MVP Ã‡Ä±kartma", icon: "âš¡" },
      { name: "YaratÄ±cÄ±lÄ±k", description: "Startup Vibe", icon: "ðŸš€" },
      { name: "Ä°letiÅŸim", description: "Topluluk Ä°nÅŸasÄ±", icon: "ðŸŒ" },
      { name: "Adaptasyon", description: "Yeni Teknolojilere HÄ±zlÄ± Uyum", icon: "ðŸ”„" },
      { name: "Analitik DÃ¼ÅŸÃ¼nme", description: "Veri OdaklÄ± YaklaÅŸÄ±m", icon: "ðŸ“Š" },
      { name: "Kritik DÃ¼ÅŸÃ¼nme", description: "Stratejik BakÄ±ÅŸ", icon: "ðŸŽ¯" }
    ],
      tools: {
        "ðŸš€ GeliÅŸtirme & YayÄ±nlama": ["VSCode", "Cursor", "Git", "Vercel", "Netlify", "Supabase"],
        "âš¡ Otomasyon & TasarÄ±m": ["n8n", "ChatGPT", "Figma", "Postman"]
      }
    },
    projects: {
      featured: [
        {
          title: "Effe MimarlÄ±k",
          description: "Site ve villa projeleri iÃ§in kurumsal web sitesi",
          image: "/projects/effe-mimarlik.svg",
          link: "https://www.effemimarlik.com.tr",
          tech: ["WordPress", "PHP", "CSS", "Responsive Design"],
          category: "Kurumsal Web Sitesi",
          status: "TamamlandÄ±"
        },
        {
          title: "Vertex YapÄ±",
          description: "Kaba inÅŸaat firmasÄ± iÃ§in profesyonel web sitesi",
          image: "/projects/vertex-yapi.svg",
          link: "https://www.vertexyapi.com",
          tech: ["React", "Next.js", "Tailwind CSS", "SEO"],
          category: "Kurumsal Web Sitesi",
          status: "TamamlandÄ±"
        },
        {
          title: "Avax Savunma",
          description: "Askeri outdoor giyim firmasÄ± iÃ§in e-ticaret sitesi",
          image: "/projects/avax-savunma.svg",
          link: "https://www.avaxsavunma.com.tr",
          tech: ["React", "Node.js", "MongoDB", "E-commerce"],
          category: "E-ticaret Sitesi",
          status: "TamamlandÄ±"
        },
        {
          title: "Simay.tech",
          description: "Web sitesi ve yapay zeka sesli asistan otomasyon sistemleri",
          image: "/projects/simay-tech.svg",
          link: "https://simay.tech",
          tech: ["AI/ML", "React", "Python", "Automation"],
          category: "AI & Otomasyon",
          status: "TamamlandÄ±"
        },
        {
          title: "BahadÄ±r Gemalmaz",
          description: "KiÅŸisel portfolyo ve profesyonel web sitesi",
          image: "/projects/bahadir-portfolio.svg",
          link: "https://www.bahadirgemalmaz.com",
          tech: ["Next.js", "React", "Tailwind CSS", "GSAP"],
          category: "Portfolyo Sitesi",
          status: "TamamlandÄ±"
        },
        {
          title: "Silifke Teknoloji",
          description: "Teknoloji ve inovasyon odaklÄ± organizasyon web sitesi",
          image: "/projects/silifke-teknoloji.svg",
          link: "https://www.silifketeknoloji.org",
          tech: ["Next.js", "React", "Tailwind CSS", "Modern Web"],
          category: "Teknoloji Organizasyonu",
          status: "TamamlandÄ±"
        }
      ]
    },
    testimonials: [
      {
        name: "Ahmet YÄ±lmaz",
        role: "Simay Hareketi BaÅŸkanÄ±",
        content: "BahadÄ±r'Ä±n profesyonel yaklaÅŸÄ±mÄ± ve kaliteli iÅŸi sayesinde hayalimizdeki web sitesine kavuÅŸtuk. SÃ¼reÃ§ boyunca her adÄ±mda bizi bilgilendirdi ve beklentilerimizi aÅŸtÄ±.",
        avatar: "/placeholder-user.jpg",
        rating: 5,
        company: "Simay Hareketi"
      },
      {
        name: "AyÅŸe Demir",
        role: "Effe MimarlÄ±k Kurucusu",
        content: "HÄ±zlÄ±, gÃ¼venilir ve yaratÄ±cÄ± Ã§Ã¶zÃ¼mler. MimarlÄ±k firmamÄ±z iÃ§in mÃ¼kemmel bir web sitesi tasarladÄ±. MÃ¼ÅŸteri memnuniyetimiz %100 arttÄ±.",
        avatar: "/placeholder-user.jpg",
        rating: 5,
        company: "Effe MimarlÄ±k"
      },
      {
        name: "Mehmet Kaya",
        role: "Avax Savunma CEO",
        content: "Teknik bilgisi ve mÃ¼ÅŸteri odaklÄ± yaklaÅŸÄ±mÄ± ile beklentilerimizi aÅŸtÄ±. E-ticaret sitemiz satÄ±ÅŸlarÄ±mÄ±zÄ± %300 artÄ±rdÄ±. Kesinlikle tavsiye ederim.",
        avatar: "/placeholder-user.jpg",
        rating: 5,
        company: "Avax Savunma"
      },
      {
        name: "Fatma Ã–zkan",
        role: "Vertex YapÄ± Genel MÃ¼dÃ¼rÃ¼",
        content: "Ä°nÅŸaat sektÃ¶rÃ¼nde dijital varlÄ±ÄŸÄ±mÄ±zÄ± gÃ¼Ã§lendirdi. Profesyonel yaklaÅŸÄ±m ve kaliteli iÅŸ. MÃ¼ÅŸterilerimiz artÄ±k bizi daha kolay bulabiliyor.",
        avatar: "/placeholder-user.jpg",
        rating: 5,
        company: "Vertex YapÄ±"
      },
      {
        name: "Ali YÄ±ldÄ±z",
        role: "Simay.tech Kurucusu",
        content: "AI ve otomasyon projelerimizde mÃ¼thiÅŸ bir iÅŸ Ã§Ä±kardÄ±. Teknik bilgisi ve yaratÄ±cÄ±lÄ±ÄŸÄ± ile projelerimizi hayata geÃ§irdi. GerÃ§ek bir uzman.",
        avatar: "/placeholder-user.jpg",
        rating: 5,
        company: "Simay.tech"
      },
      {
        name: "Teknoloji MeraklÄ±larÄ±",
        role: "Silifke Teknoloji KulÃ¼bÃ¼ Ãœyeleri",
        content: "BahadÄ±r'Ä±n liderliÄŸinde teknoloji projelerimizi hayata geÃ§irdik. Hem Ã¶ÄŸrendik hem Ã¼rettik. GerÃ§ek bir vizyoner ve mentor.",
        avatar: "/placeholder-user.jpg",
        rating: 5,
        company: "Silifke Teknoloji"
      }
    ],
    contact: {
      title: "Projenizi KonuÅŸalÄ±m",
      subtitle: "Hayalinizdeki projeyi gerÃ§eÄŸe dÃ¶nÃ¼ÅŸtÃ¼rmek iÃ§in buradayÄ±m",
      email: "bahadir@example.com",
      phone: "+90 555 123 45 67",
      location: "Ä°stanbul, TÃ¼rkiye"
    }
  }

  useLayoutEffect(() => {
    const ctx = gsap.context(() => {
      // Initial animations
      gsap.fromTo(
        ".hero-content",
        { opacity: 0, y: 100 },
        { opacity: 1, y: 0, duration: 1.5, ease: "power3.out" }
      )

      gsap.fromTo(
        ".floating-message",
        { opacity: 0, x: -100 },
        { opacity: 1, x: 0, duration: 1, stagger: 0.2, ease: "power2.out" }
      )

      // Scroll animations
      gsap.fromTo(
        ".stats-item",
        { opacity: 0, y: 50 },
        {
          opacity: 1,
          y: 0,
          duration: 0.8,
          stagger: 0.1,
          ease: "power2.out",
          scrollTrigger: {
            trigger: ".stats-section",
            start: "top 80%",
            end: "bottom 20%",
            toggleActions: "play none none reverse"
          }
        }
      )

      gsap.fromTo(
        ".skill-card",
        { opacity: 0, scale: 0.8 },
        {
          opacity: 1,
          scale: 1,
          duration: 0.6,
          stagger: 0.1,
          ease: "back.out(1.7)",
          scrollTrigger: {
            trigger: ".skills-section",
            start: "top 80%",
            end: "bottom 20%",
            toggleActions: "play none none reverse"
          }
        }
      )

      gsap.fromTo(
        ".project-card",
        { opacity: 0, y: 100 },
        {
          opacity: 1,
          y: 0,
          duration: 0.8,
          stagger: 0.2,
          ease: "power2.out",
          scrollTrigger: {
            trigger: ".projects-section",
            start: "top 80%",
            end: "bottom 20%",
            toggleActions: "play none none reverse"
          }
        }
      )

      gsap.fromTo(
        ".testimonial-card",
        { opacity: 0, x: 100 },
        {
          opacity: 1,
          x: 0,
          duration: 0.8,
          stagger: 0.3,
          ease: "power2.out",
          scrollTrigger: {
            trigger: ".testimonials-section",
            start: "top 80%",
            end: "bottom 20%",
            toggleActions: "play none none reverse"
          }
        }
      )
    }, containerRef)

    return () => ctx.revert()
  }, [])

  useEffect(() => {
    // Quote rotation
    const quoteInterval = setInterval(() => {
      setCurrentQuote((prev) => (prev + 1) % portfolioData.hero.motivationalQuotes.length)
    }, 5000)

    // Message rotation
    const messageInterval = setInterval(() => {
      setCurrentMessage((prev) => (prev + 1) % portfolioData.hero.leftMessages.length)
    }, 3000)

    // Mouse tracking
    const handleMouseMove = (e: MouseEvent) => {
      setMousePosition({ x: e.clientX, y: e.clientY })
    }

    window.addEventListener("mousemove", handleMouseMove)

    return () => {
      clearInterval(quoteInterval)
      clearInterval(messageInterval)
      window.removeEventListener("mousemove", handleMouseMove)
    }
  }, [portfolioData.hero.motivationalQuotes.length, portfolioData.hero.leftMessages.length])

  useEffect(() => {
    // Loading simulation
    const timer = setTimeout(() => {
      setIsLoading(false)
    }, 2000)

    return () => clearTimeout(timer)
  }, [])

  const scrollToSection = (sectionIndex: number) => {
    const sections = document.querySelectorAll("section")
    if (sections[sectionIndex]) {
      sections[sectionIndex].scrollIntoView({ behavior: "smooth" })
    }
    setCurrentSection(sectionIndex)
  }

  if (isLoading) {
    return (
      <div className="min-h-screen bg-black flex items-center justify-center">
        <div className="text-center">
          <div className="w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"></div>
          <p className="text-white text-lg">YÃ¼kleniyor...</p>
        </div>
      </div>
    )
